# Process and Thread
## Program
프로그램이란 명령어의 집합.

## Process
- 실행중인 프로그램. 
- 프로그램을 실행하면 OS로 부터 프로그램 실해엥 필요한 자원을 할당 받고 메모리상에 올라간다.
- 프로그램 Code, Data, Stack, Heap의 구조로 되어있는 독립된 메모리 영역을 할당 받는다.
- 기본적으로 프로세스당 최소 1개의 스레드 (메인 스레드)를 가지고 있다.
- 프로세스 간에 데이터를 공유하려면 IPC (Inter process communication)이 필요하다.

## Thread
- 한 프로세스 내에서 동작되는 여러 흐름의 단위, CPU 이용의 기본 단위.
- 프로세스의 특정한 수행 경로
- 스레드는 프로세스 내에서 각각 Stack만 따로 할당 받고 Code, Data, Heap 영역은 공유
- 프로세스 내의 주소 공간이나 자원들을 같은 프소세스 내의 스레드끼리 공유한다.
- 각 스레드는 별도의 레지스터와 스택을 가진다.

## Multi Process
하나의 응용 프로그램을 여러 개의 프로세스로 구성하여 각 프로세스가 하나의 작업을 처리하도록 하는 것.

### 장점
여러 개의 자식 프로세스 중 하나에 문제가 발생하면, 해당 프로세스만 죽는 것 만으로 끝난다.

### 단점
- Context switching 비용이 크다.
- 프로세스간 데이터 공유가 복잡하다. (IPC)


## Multi Thread
하나의 응용 프로그렘에 여러 스레드를 구성하고 각 스레드가 하나의 작업을 처리하도록 하는 것.

### 장점
- 자원을 공유하기 때문에 시스템 자원 소모가 적으며, 스레드 간의 데이터 공유가 간단하다.
- 스레드 사이의 Context switching이 빠르다.

### 단점
- Thread 간의 데이터를 공유하기 때문에, 동기화 문제가 발생 할 수 있다.
- 디버깅이 까다롭다.

## 멀티 프로세스 대신 멀티 스레드를 사용하는 이유
### 자원의 효율성 증대
- 프로세스를 생성하여 자원을 할당하는 시스템 콜이 줄어들어 자원을 효율적으로 관리할 수 있다.
- 프로세스 간의 Context Switching 시 단순히 CPU 레지스터 교체 뿐만 아니라 RAM과 CPU 사이의 캐시 메모리에 대한 데이터까지 초기화 되므로 오버헤드가 크다.
- 스레드는 프로세스 내의 메모리를 공유하기 때문에 스레드 간 데이터를 주고 받는 것이 간단해지고 시스템 자원 소모가 줄어들게 된다.

### 처리 비용 감소 및 응답 시간 단축
- Context Switching 시 스레드는 Stack 영역만 처리하기 때문에 프로세스 간의 전환 속도 보다 스레드 간의 전환 속도가 빠르다.
- 프로세스 간의 통신(IPC) 보다 스레드 간의 통신의 비용이 적으므로 작업들 간의 통신의 부담이 줄어든다. 스레드는 Stack 영역을 제외한 모든 메모리를 공유하기 때문

### 주의
- 동기화 문제
- 스레드 간의 자원 공유는 전역 변수를 이용하므로 함께 사용할 때 충돌이 발생할 수 있다.